<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setting up MySQL | Pterodactyl-China</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KWVNS6PXK2"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KWVNS6PXK2');
        </script>
    <meta name="description" content="翼龙是一个使用 PHP、React 和 Go 构建的开源游戏服务器管理面板。翼龙在设计时考虑了安全性，在隔离的 Docker 镜像中运行所有游戏服务器，同时向最终用户展示了美观直观的 UI。">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#0e4688">
    <meta name="keywords" content="翼龙,翼龙面板,面板汉化,汉化,中文,中文汉化,面板,翼龙汉化,翼龙中国,翼手龙,汉化版,pterodactyl-china,china,pterodactyl,教程,翼龙最新版,翼龙官网,翼龙中国官网,官网">
    
    <link rel="preload" href="/assets/css/0.styles.b3d0dfa6.css" as="style"><link rel="preload" href="/assets/js/app.58d67f11.js" as="script"><link rel="preload" href="/assets/js/4.81f8e957.js" as="script"><link rel="preload" href="/assets/js/1.c40e2759.js" as="script"><link rel="preload" href="/assets/js/77.14180c7f.js" as="script"><link rel="prefetch" href="/assets/js/10.cdd4a61d.js"><link rel="prefetch" href="/assets/js/11.3d5482f6.js"><link rel="prefetch" href="/assets/js/12.c36cd281.js"><link rel="prefetch" href="/assets/js/13.be3e351e.js"><link rel="prefetch" href="/assets/js/14.89240601.js"><link rel="prefetch" href="/assets/js/15.886ee232.js"><link rel="prefetch" href="/assets/js/16.0f854349.js"><link rel="prefetch" href="/assets/js/17.c4a3a47e.js"><link rel="prefetch" href="/assets/js/18.e31e000f.js"><link rel="prefetch" href="/assets/js/19.6745f1bd.js"><link rel="prefetch" href="/assets/js/2.1c4292ed.js"><link rel="prefetch" href="/assets/js/20.b7900724.js"><link rel="prefetch" href="/assets/js/21.3c15ad8f.js"><link rel="prefetch" href="/assets/js/22.c4019a61.js"><link rel="prefetch" href="/assets/js/23.61bbf158.js"><link rel="prefetch" href="/assets/js/24.ccf823b2.js"><link rel="prefetch" href="/assets/js/25.4ffa29c9.js"><link rel="prefetch" href="/assets/js/26.4bacbf8e.js"><link rel="prefetch" href="/assets/js/27.691f8514.js"><link rel="prefetch" href="/assets/js/28.82f3dcaf.js"><link rel="prefetch" href="/assets/js/29.5957e555.js"><link rel="prefetch" href="/assets/js/30.d02b665a.js"><link rel="prefetch" href="/assets/js/31.c3ea05c4.js"><link rel="prefetch" href="/assets/js/32.163a20cb.js"><link rel="prefetch" href="/assets/js/33.8950cb74.js"><link rel="prefetch" href="/assets/js/34.c982b1fd.js"><link rel="prefetch" href="/assets/js/35.7b9bc9bc.js"><link rel="prefetch" href="/assets/js/36.75781918.js"><link rel="prefetch" href="/assets/js/37.12f871cd.js"><link rel="prefetch" href="/assets/js/38.5457d8b9.js"><link rel="prefetch" href="/assets/js/39.8c97e6e3.js"><link rel="prefetch" href="/assets/js/40.bd587b22.js"><link rel="prefetch" href="/assets/js/41.4d484344.js"><link rel="prefetch" href="/assets/js/42.c8821eaf.js"><link rel="prefetch" href="/assets/js/43.b35ab0c3.js"><link rel="prefetch" href="/assets/js/44.86e03bcf.js"><link rel="prefetch" href="/assets/js/45.d8bfcca8.js"><link rel="prefetch" href="/assets/js/46.3921dc67.js"><link rel="prefetch" href="/assets/js/47.3b201087.js"><link rel="prefetch" href="/assets/js/48.09af47c9.js"><link rel="prefetch" href="/assets/js/49.9fc6f116.js"><link rel="prefetch" href="/assets/js/5.808a266f.js"><link rel="prefetch" href="/assets/js/50.97dc238c.js"><link rel="prefetch" href="/assets/js/51.8f120aea.js"><link rel="prefetch" href="/assets/js/52.99228419.js"><link rel="prefetch" href="/assets/js/53.e5cf98c2.js"><link rel="prefetch" href="/assets/js/54.3590d92e.js"><link rel="prefetch" href="/assets/js/55.07ad4bbb.js"><link rel="prefetch" href="/assets/js/56.123eb4cf.js"><link rel="prefetch" href="/assets/js/57.d31ed450.js"><link rel="prefetch" href="/assets/js/58.afc6bab2.js"><link rel="prefetch" href="/assets/js/59.4c3233ae.js"><link rel="prefetch" href="/assets/js/6.4297e35e.js"><link rel="prefetch" href="/assets/js/60.b56c8372.js"><link rel="prefetch" href="/assets/js/61.033d3ce8.js"><link rel="prefetch" href="/assets/js/62.a055c3af.js"><link rel="prefetch" href="/assets/js/63.b21b6d2e.js"><link rel="prefetch" href="/assets/js/64.eda6469c.js"><link rel="prefetch" href="/assets/js/65.8d00877d.js"><link rel="prefetch" href="/assets/js/66.803b4841.js"><link rel="prefetch" href="/assets/js/67.d2fd355f.js"><link rel="prefetch" href="/assets/js/68.86fc4413.js"><link rel="prefetch" href="/assets/js/69.29796db3.js"><link rel="prefetch" href="/assets/js/7.396b95f8.js"><link rel="prefetch" href="/assets/js/70.07c4e910.js"><link rel="prefetch" href="/assets/js/71.cc10f7a6.js"><link rel="prefetch" href="/assets/js/72.00e5ec0f.js"><link rel="prefetch" href="/assets/js/73.5c560707.js"><link rel="prefetch" href="/assets/js/74.a323b5cb.js"><link rel="prefetch" href="/assets/js/75.c985da06.js"><link rel="prefetch" href="/assets/js/76.1f41bd11.js"><link rel="prefetch" href="/assets/js/78.fc6a1311.js"><link rel="prefetch" href="/assets/js/79.29412aa5.js"><link rel="prefetch" href="/assets/js/8.b0722cc9.js"><link rel="prefetch" href="/assets/js/9.49432b78.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3d0dfa6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="fixed h-12 w-full z-50 top-0"><div class="h-12 w-full bg-black flex items-center justify-center px-4"><p class="text-grey-lightest font-semibold">
        欢迎支持 翼龙中国 CN 
        <a href="https://github.com/pterodactyl-china/documentation" target="_blank" rel="noindex nofollow noopener" class="text-blue-lighter">现在就支持</a></p></div></div> <div class="theme-container mt-12"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/logos/pterry.svg" class="logo"> <span class="site-name hidden md:inline can-hide">Pterodactyl-China</span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="搜索" placeholder="搜索" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>项目信息</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/project/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/project/about.html" class="sidebar-link">关于</a></li><li><a href="/project/terms.html" class="sidebar-link">Terminology</a></li><li><a href="/project/community.html" class="sidebar-link">Community Standards</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>面板 (前端)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.10
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.10
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/panel/1.0/getting_started.html" class="sidebar-link">开始入门</a></li><li><a href="/panel/1.0/btpanel_getstarted.html" class="sidebar-link">使用宝塔（BT-Panel）面板搭建</a></li><li><a href="/panel/1.0/webserver_configuration.html" class="sidebar-link">网络服务器配置</a></li><li><a href="/panel/1.0/additional_configuration.html" class="sidebar-link">其他配置</a></li><li><a href="/panel/1.0/updating.html" class="sidebar-link">更新面板</a></li><li><a href="/panel/1.0/troubleshooting.html" class="sidebar-link">疑难解答</a></li><li><a href="/panel/1.0/legacy_upgrade.html" class="sidebar-link">旧版升级</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Wings (后端)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.7
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.7
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/wings/1.0/installing.html" class="sidebar-link">安装 Wings</a></li><li><a href="/wings/1.0/upgrading.html" class="sidebar-link">升级 Wings</a></li><li><a href="/wings/1.0/migrating.html" class="sidebar-link">迁移至 Wings</a></li><li><a href="/wings/1.0/configuration.html" class="sidebar-link">Additional Configuration</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>教程</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/mysql_setup.html" aria-current="page" class="active sidebar-link">Setting up MySQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/mysql_setup.html#creating-a-database-for-pterodactyl" class="sidebar-link">Creating a database for Pterodactyl</a></li><li class="sidebar-sub-header"><a href="/tutorials/mysql_setup.html#creating-a-database-host-for-nodes" class="sidebar-link">Creating a Database Host for Nodes</a></li></ul></li><li><a href="/tutorials/creating_ssl_certificates.html" class="sidebar-link">Creating SSL Certificates</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>指南</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/guides/mounts.html" class="sidebar-link">Using Mounts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>开发与运营</span> <span class="arrow right"></span> <!----></p> <!----></div></li></ul> </div> <div class="page"> <div class="content content__default"><h1 id="setting-up-mysql"><a href="#setting-up-mysql" class="header-anchor">#</a> Setting up MySQL</h1> <p></p><div class="table-of-contents"><ul><li><a href="#creating-a-database-for-pterodactyl">Creating a database for Pterodactyl</a><ul><li><a href="#logging-in">Logging In</a></li><li><a href="#creating-a-user">Creating a user</a></li><li><a href="#create-a-database">Create a database</a></li><li><a href="#assigning-permissions">Assigning permissions</a></li></ul></li><li><a href="#creating-a-database-host-for-nodes">Creating a Database Host for Nodes</a><ul><li><a href="#creating-a-user">Creating a user</a></li><li><a href="#assigning-permissions">Assigning permissions</a></li><li><a href="#allowing-external-database-access">Allowing external database access</a></li></ul></li></ul></div><p></p> <h2 id="creating-a-database-for-pterodactyl"><a href="#creating-a-database-for-pterodactyl" class="header-anchor">#</a> Creating a database for Pterodactyl</h2> <p>MySQL is a core component of Pterodactyl Panel but it can be confusing to setup and use if you've never done so before.
This is a very basic tutorial that skims just enough of the surface to set MySQL up and running with the panel.
If you're interested in learning more, there are some great tutorials available on the Internet.</p> <h3 id="logging-in"><a href="#logging-in" class="header-anchor">#</a> Logging In</h3> <p>The first step in this process is to login to the MySQL command line where we will be executing some statements to get
things setup. To do so, simply run the command below and provide the Root MySQL account's password that you setup when
installing MySQL. If you do not remember doing this, chances are you can just hit enter as no password is set.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql -u root -p
</code></pre></div><h3 id="creating-a-user"><a href="#creating-a-user" class="header-anchor">#</a> Creating a user</h3> <p>For security sake, and due to changes in MySQL 5.7, you'll need to create a new user for the panel. To do so, we want
to first tell MySQL to use the mysql database, which stores such information.</p> <p>Next, we will create a user called <code>pterodactyl</code> and allow logins from localhost which prevents any external connections
to our database. You can also use <code>%</code> as a wildcard or enter a numeric IP. We will also set the account password
to <code>somePassword</code>.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># Remember to change 'somePassword' below to be a unique password specific to this account.</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'pterodactyl'</span><span class="token variable">@'127.0.0.1'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'somePassword'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="create-a-database"><a href="#create-a-database" class="header-anchor">#</a> Create a database</h3> <p>Next, we need to create a database for the panel. In this tutorial we will be naming the database <code>panel</code>, but you can
substitute that for whatever name you wish.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> panel<span class="token punctuation">;</span>
</code></pre></div><h3 id="assigning-permissions"><a href="#assigning-permissions" class="header-anchor">#</a> Assigning permissions</h3> <p>Finally, we need to tell MySQL that our pterodactyl user should have access to the panel database. To do this, simply
run the command below. If you plan on also using this MySQL instance as a database host on the Panel you'll want to
include the <code>WITH GRANT OPTION</code> (which we are doing here). If you won't be using this user as part of the host setup
you can remove that.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> panel<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'pterodactyl'</span><span class="token variable">@'127.0.0.1'</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="creating-a-database-host-for-nodes"><a href="#creating-a-database-host-for-nodes" class="header-anchor">#</a> Creating a Database Host for Nodes</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>This section covers creating a MySQL user that has permission to create and modify users. This allows the Panel to create per-server databases on the given host.</p></div> <h3 id="creating-a-user-2"><a href="#creating-a-user-2" class="header-anchor">#</a> Creating a user</h3> <p>If your database is on a different host than the one where your Panel or Daemon is installed make sure to use the IP address of the machine the Panel is running on. If you use <code>127.0.0.1</code> and try to connect externally, you will receive a connection refused error.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># You should change the username and password below to something unique.</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'pterodactyluser'</span><span class="token variable">@'127.0.0.1'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'somepassword'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="assigning-permissions-2"><a href="#assigning-permissions-2" class="header-anchor">#</a> Assigning permissions</h3> <p>The command below will give your newly created user the ability to create additional users, as well as create and destroy databases. As above, ensure <code>127.0.0.1</code> matches the IP address you used in the previous command.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'pterodactyluser'</span><span class="token variable">@'127.0.0.1'</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="allowing-external-database-access"><a href="#allowing-external-database-access" class="header-anchor">#</a> Allowing external database access</h3> <p>Chances are you'll need to allow external access to this MySQL instance in order to allow servers to connect to it. To do this, open <code>my.cnf</code>, which varies in location depending on your OS and how MySQL was installed. You can type <code>find /etc -iname my.cnf</code> to locate it.</p> <p>Open <code>my.cnf</code>, add text below to the bottom of the file and save it:</p> <div class="language- extra-class"><pre class="language-text"><code>[mysqld]
bind-address=0.0.0.0
</code></pre></div><p>Restart MySQL/MariaDB to apply these changes. This will override the default MySQL configuration, which by default will only accept requests from localhost. Updating this will allow connections on all interfaces, and thus, external connections. Make sure to allow the MySQL port (default 3306) in your firewall.</p> <p>If your Database and Wings are on the same machine and won't need external access, you can also use the <code>docker0</code> interface IP address rather than <code>127.0.0.1</code>. This IP address can be found by running <code>ip addr | grep docker0</code>, and it likely looks like <code>172.x.x.x</code>.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl-china/documentation/edit/master/tutorials/mysql_setup.md" target="_blank" rel="noopener noreferrer">帮助我们改进此页面。</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></div> <div class="page-nav"><p class="inner"></p> <div class="prev"><span>
        ←
        <a href="/project/community.html">Community Standards</a></span></div> <div class="next"><span><a href="/tutorials/creating_ssl_certificates.html">Creating SSL Certificates</a>→
      </span></div></div> </div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.58d67f11.js" defer></script><script src="/assets/js/4.81f8e957.js" defer></script><script src="/assets/js/1.c40e2759.js" defer></script><script src="/assets/js/77.14180c7f.js" defer></script>
  </body>
</html>
