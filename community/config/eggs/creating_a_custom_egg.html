<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>创建自定义预设 | Pterodactyl-China</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KWVNS6PXK2"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KWVNS6PXK2');
        </script>
    <meta name="description" content="翼龙是一个使用 PHP、React 和 Go 构建的开源游戏服务器管理面板。翼龙在设计时考虑了安全性，在隔离的 Docker 镜像中运行所有游戏服务器，同时向最终用户展示了美观直观的 UI。">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#0e4688">
    <meta name="keywords" content="翼龙,翼龙面板,翼龙面板汉化,面板汉化,汉化,中文,中文汉化,面板,翼龙汉化,翼龙中国,翼手龙,汉化版,pterodactyl-china,china,pterodactyl,教程,翼龙最新版,翼龙官网,翼龙中国官网,官网">
    
    <link rel="preload" href="/assets/css/0.styles.b3d0dfa6.css" as="style"><link rel="preload" href="/assets/js/app.e404e787.js" as="script"><link rel="preload" href="/assets/js/4.edf157ab.js" as="script"><link rel="preload" href="/assets/js/1.c40e2759.js" as="script"><link rel="preload" href="/assets/js/13.398e32c9.js" as="script"><link rel="prefetch" href="/assets/js/10.cdd4a61d.js"><link rel="prefetch" href="/assets/js/11.a6343101.js"><link rel="prefetch" href="/assets/js/12.c36cd281.js"><link rel="prefetch" href="/assets/js/14.89240601.js"><link rel="prefetch" href="/assets/js/15.886ee232.js"><link rel="prefetch" href="/assets/js/16.0f854349.js"><link rel="prefetch" href="/assets/js/17.c4a3a47e.js"><link rel="prefetch" href="/assets/js/18.5b882098.js"><link rel="prefetch" href="/assets/js/19.6745f1bd.js"><link rel="prefetch" href="/assets/js/2.1c4292ed.js"><link rel="prefetch" href="/assets/js/20.e17c3213.js"><link rel="prefetch" href="/assets/js/21.82cbd59e.js"><link rel="prefetch" href="/assets/js/22.c4019a61.js"><link rel="prefetch" href="/assets/js/23.c19f829f.js"><link rel="prefetch" href="/assets/js/24.611e1a20.js"><link rel="prefetch" href="/assets/js/25.4ffa29c9.js"><link rel="prefetch" href="/assets/js/26.4bacbf8e.js"><link rel="prefetch" href="/assets/js/27.691f8514.js"><link rel="prefetch" href="/assets/js/28.82f3dcaf.js"><link rel="prefetch" href="/assets/js/29.5957e555.js"><link rel="prefetch" href="/assets/js/30.d02b665a.js"><link rel="prefetch" href="/assets/js/31.c3ea05c4.js"><link rel="prefetch" href="/assets/js/32.163a20cb.js"><link rel="prefetch" href="/assets/js/33.eb78adde.js"><link rel="prefetch" href="/assets/js/34.c4c49c32.js"><link rel="prefetch" href="/assets/js/35.fb5c14d0.js"><link rel="prefetch" href="/assets/js/36.969df92c.js"><link rel="prefetch" href="/assets/js/37.6f9bbaa1.js"><link rel="prefetch" href="/assets/js/38.f22467d3.js"><link rel="prefetch" href="/assets/js/39.c09a4a1d.js"><link rel="prefetch" href="/assets/js/40.70a7ddee.js"><link rel="prefetch" href="/assets/js/41.b583d979.js"><link rel="prefetch" href="/assets/js/42.c8821eaf.js"><link rel="prefetch" href="/assets/js/43.b35ab0c3.js"><link rel="prefetch" href="/assets/js/44.86e03bcf.js"><link rel="prefetch" href="/assets/js/45.b30017d5.js"><link rel="prefetch" href="/assets/js/46.3921dc67.js"><link rel="prefetch" href="/assets/js/47.3b201087.js"><link rel="prefetch" href="/assets/js/48.c172c7ef.js"><link rel="prefetch" href="/assets/js/49.9fc6f116.js"><link rel="prefetch" href="/assets/js/5.808a266f.js"><link rel="prefetch" href="/assets/js/50.97dc238c.js"><link rel="prefetch" href="/assets/js/51.8f120aea.js"><link rel="prefetch" href="/assets/js/52.99228419.js"><link rel="prefetch" href="/assets/js/53.e5cf98c2.js"><link rel="prefetch" href="/assets/js/54.3590d92e.js"><link rel="prefetch" href="/assets/js/55.07ad4bbb.js"><link rel="prefetch" href="/assets/js/56.123eb4cf.js"><link rel="prefetch" href="/assets/js/57.d31ed450.js"><link rel="prefetch" href="/assets/js/58.2fd6aa60.js"><link rel="prefetch" href="/assets/js/59.9f92de0b.js"><link rel="prefetch" href="/assets/js/6.4297e35e.js"><link rel="prefetch" href="/assets/js/60.c6c1a1bb.js"><link rel="prefetch" href="/assets/js/61.569760a9.js"><link rel="prefetch" href="/assets/js/62.1238ca96.js"><link rel="prefetch" href="/assets/js/63.ba90503f.js"><link rel="prefetch" href="/assets/js/64.2b804cde.js"><link rel="prefetch" href="/assets/js/65.a8216282.js"><link rel="prefetch" href="/assets/js/66.d42f6b1c.js"><link rel="prefetch" href="/assets/js/67.e6aad4f4.js"><link rel="prefetch" href="/assets/js/68.1fce5205.js"><link rel="prefetch" href="/assets/js/69.f1da3fd0.js"><link rel="prefetch" href="/assets/js/7.396b95f8.js"><link rel="prefetch" href="/assets/js/70.ab12d200.js"><link rel="prefetch" href="/assets/js/71.aa04a194.js"><link rel="prefetch" href="/assets/js/72.143d8e9f.js"><link rel="prefetch" href="/assets/js/73.8d256856.js"><link rel="prefetch" href="/assets/js/74.a323b5cb.js"><link rel="prefetch" href="/assets/js/75.e947cf36.js"><link rel="prefetch" href="/assets/js/76.db4be30a.js"><link rel="prefetch" href="/assets/js/77.5d8fd610.js"><link rel="prefetch" href="/assets/js/78.61ffa55b.js"><link rel="prefetch" href="/assets/js/79.64247411.js"><link rel="prefetch" href="/assets/js/8.e43c193b.js"><link rel="prefetch" href="/assets/js/9.49432b78.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3d0dfa6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="fixed h-12 w-full z-50 top-0"><div class="h-12 w-full bg-black flex items-center justify-center px-4"><p class="text-grey-lightest font-semibold">
        欢迎支持 翼龙中国 CN 
        <a href="https://github.com/pterodactyl-china/documentation" target="_blank" rel="noindex nofollow noopener" class="text-blue-lighter">现在就支持</a></p></div></div> <div class="theme-container mt-12"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/logos/pterry.svg" class="logo"> <span class="site-name hidden md:inline can-hide">Pterodactyl-China</span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="搜索" placeholder="搜索" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://bbs.pterodactyl.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://bbs.pterodactyl.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>社区指南</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/about.html" class="sidebar-link">社区指南和教程</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>面板安装</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/installation-guides/panel/centos7.html" class="sidebar-link">CentOS 7</a></li><li><a href="/community/installation-guides/panel/centos8.html" class="sidebar-link">CentOS 8, Rocky Linux 8, AlmaLinux 8</a></li><li><a href="/community/installation-guides/panel/debian10.html" class="sidebar-link">Debian 10</a></li><li><a href="/community/installation-guides/panel/debian11.html" class="sidebar-link">Debian 11</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Wings 安装</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/installation-guides/wings/centos7.html" class="sidebar-link">CentOS 7</a></li><li><a href="/community/installation-guides/wings/centos8.html" class="sidebar-link">CentOS 8, Rocky Linux 8, AlmaLinux 8</a></li><li><a href="/community/installation-guides/wings/debian10.html" class="sidebar-link">Debian 10</a></li><li><a href="/community/installation-guides/wings/debian11.html" class="sidebar-link">Debian 11</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>创建预设</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/config/eggs/creating_a_custom_egg.html" aria-current="page" class="active sidebar-link">创建自定义预设</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/community/config/eggs/creating_a_custom_egg.html#create-new-option" class="sidebar-link">Create New Option</a></li><li class="sidebar-sub-header"><a href="/community/config/eggs/creating_a_custom_egg.html#configure-process-management" class="sidebar-link">Configure Process Management</a></li><li class="sidebar-sub-header"><a href="/community/config/eggs/creating_a_custom_egg.html#copy-settings-from" class="sidebar-link">Copy Settings From</a></li><li class="sidebar-sub-header"><a href="/community/config/eggs/creating_a_custom_egg.html#egg-variables" class="sidebar-link">Egg Variables</a></li><li class="sidebar-sub-header"><a href="/community/config/eggs/creating_a_custom_egg.html#list-of-default-variables" class="sidebar-link">List of default variables</a></li></ul></li><li><a href="/community/config/eggs/creating_a_custom_image.html" class="sidebar-link">Creating a Custom Docker Image</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>游戏配置</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/games/minecraft.html" class="sidebar-link">Minecraft</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>教程</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/config/nodes/add_node.html" class="sidebar-link">创建新的节点</a></li><li><a href="/community/tutorials/artisan.html" class="sidebar-link">Artisan CLI</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>定制</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/community/customization/panel.html" class="sidebar-link">构建面板资源</a></li><li><a href="/community/customization/wings.html" class="sidebar-link">Building Wings</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content content__default"><h1 id="创建自定义预设"><a href="#创建自定义预设" class="header-anchor">#</a> 创建自定义预设</h1> <div class="custom-block warning"><p class="custom-block-title">警告</p> <p>您不应编辑面板随附的现有预设。我们每次对这些预设的更新，在你更新数据库时会覆盖面板的原有预设，也就是说你将丢失这些所有改动的内容。</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#create-new-option">Create New Option</a></li><li><a href="#configure-process-management">Configure Process Management</a><ul><li><a href="#stop-command">Stop Command</a></li><li><a href="#log-storage">Log Storage</a></li><li><a href="#configuration-files">Configuration Files</a></li><li><a href="#start-configuration">Start Configuration</a></li></ul></li><li><a href="#copy-settings-from">Copy Settings From</a></li><li><a href="#egg-variables">Egg Variables</a></li><li><a href="#list-of-default-variables">List of default variables</a></li></ul></div><p></p> <p>您需要做的第一件事是创建一个新的预设组(类似文件夹)。名称和描述就不言而喻了。<code>预设组名称</code> <em>需要确保唯一性</em> ，不被其他任何预设组使用，并且只能包含字母、数字、下划线和破折号(中文也是可以的)。这是守护进程存储预设的预设组名称。</p> <p>预设的默认启动命令也是必需的，但是可以根据变量进行动态更改。</p> <h2 id="create-new-option"><a href="#create-new-option" class="header-anchor">#</a> Create New Option</h2> <p>After creating the service, in the bottom right of the page you should see a button titled <code>New Egg</code>, press it.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Select.5a2867ee.png" alt=""></p> <p>You will be taken to a new service option page which is where most of the configuration happens. The first thing
you need to do is select your service that you created previously from the <code>Associated Nest</code> dropdown.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Process_Management.516b5b6f.png" alt=""></p> <p>After that, enter an Option Name to describe it, in this case I am using <code>Widget</code>. You will also need to provide a
<em>valid</em> docker image, as well as a start command to be assigned to servers under this service option (remember, this
can be tweaked per-server if needed).</p> <p><em>Docker images must be specifically designed to work with Pterodactyl Panel.</em> You should read more about that in
our <a href="/community/config/eggs/creating_a_custom_image.html">Creating a Docker Image</a> guide.</p> <h2 id="configure-process-management"><a href="#configure-process-management" class="header-anchor">#</a> Configure Process Management</h2> <p>This is perhaps the most important step in this service option configuration, as this tells the Daemon how to run everything.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Process_Management.516b5b6f.png" alt=""></p> <p>The first field you'll encounter is <code>Copy Settings From</code>. The default selection is <code>None</code>. That is expected, and okay.
This dropdown is discussed at the end of this article.</p> <h3 id="stop-command"><a href="#stop-command" class="header-anchor">#</a> Stop Command</h3> <p>Next, you'll encounter <code>Stop Command</code> and, as the name implies, this should be the command used to safely stop the
option. For some games, this is <code>stop</code> or <code>end</code>. Certain programs and games don't have a specified stop command, so
you can enter <code>^C</code> to have the daemon execute a <code>SIGINT</code> to end the process.</p> <h3 id="log-storage"><a href="#log-storage" class="header-anchor">#</a> Log Storage</h3> <p>Logs are competely handeled by the daemon now and use the docker logs to output the complete output from the server.
This can be set like below.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="configuration-files"><a href="#configuration-files" class="header-anchor">#</a> Configuration Files</h3> <p>The next block is one of the most complex blocks, the <code>Configuration Files</code> descriptor. The Daemon will process this
block prior to booting the server to ensure all of the required settings are defined and set correctly.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;server.properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;find&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;server-ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enable-query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;server-port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{server.build.default.port}}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;query.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{server.build.default.port}}&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In this example, we are telling the Daemon to read <code>server.properties</code> in <code>/home/container</code>. Within this block, we
define a <code>parser</code>, in this case <code>properties</code> but the following are <a href="https://github.com/pterodactyl-china/wings/blob/develop/parser/parser.go#L25-L30" target="_blank" rel="noopener noreferrer">valid parsers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><code>file</code> — This parser goes based on matching the beginning of lines, and not a specific property like the other five.
Avoid using this parser if possible.</li> <li><code>yaml</code> (supports <code>*</code> notation)</li> <li><code>properties</code></li> <li><code>ini</code></li> <li><code>json</code> (supports <code>*</code> notation)</li> <li><code>xml</code></li></ul> <p>Once you have defined a parser, we then define a <code>find</code> block which tells the Daemon what specific elements to find
and replace. In this example, we have provided four separate items within the <code>server.properties</code> file that we want to
find and replace to the assigned values. You can use either an exact value, or define a specific server setting from
the <code>server.json</code> file. In this case, we're assigning the default server port to be used as the <code>server-port</code> and
<code>query.port</code>. <strong>These placeholders are case sensitive, and should have no spaces in them.</strong></p> <p>You can have multiple files listed here, the Daemon will process them in parallel before starting the server. When
using <code>yaml</code> or <code>json</code> you can use more advanced searching for elements.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;config.yml&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yaml&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;find&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;listeners[0].query_enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;listeners[0].query_port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{server.build.default.port}}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;listeners[0].host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0:{{server.build.default.port}}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;servers.*.address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;127.0.0.1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{config.docker.interface}}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;localhost&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{config.docker.interface}}&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In this example, we are parsing <code>config.yml</code> using the <code>yaml</code> parser. The first three find items are simply assigning
ports and IPs for the first listener block. The last one, <code>servers.*.address</code> uses wildcard matching to match any items
within the <code>servers</code> block, and then finding each <code>address</code> block for those items.</p> <div><p>An advanced feature of this file configuration is the ability to define multiple find and replace statements for a
single matching line. In this case, we are looking for either <code>127.0.0.1</code> or <code>localhost</code> and replacing them with the
docker interface defined in the configuration file using <code>{{config.docker.interface}}</code>.</p></div><h3 id="start-configuration"><a href="#start-configuration" class="header-anchor">#</a> Start Configuration</h3> <p>The last block to configure is the <code>Start Configuration</code> for servers running using this service option.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;done&quot;</span><span class="token operator">:</span> <span class="token string">&quot;)! For help, type &quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In the example block above, we define <code>done</code> as the entire line, or part of a line that indicates a server is done
starting, and is ready for players to join. When the Daemon sees this output, it will mark the server as <code>ON</code> rather
than <code>STARTING</code>.</p> <p>That concludes basic service option configuration.</p> <h2 id="copy-settings-from"><a href="#copy-settings-from" class="header-anchor">#</a> Copy Settings From</h2> <p>As mentioned above, there is a unique <code>Copy Settings From</code> dropdown when adding a new option. This gives you the
ability to, as the name suggests, copy settings defined above from a different option.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Copy_Settings_From.e3102cdd.png" alt=""></p> <p>In the panel, we use this to copy settings that remain the same between similar service options, such as many of the
Minecraft options.</p> <p>For example, lets look at the <code>Sponge (SpongeVanilla)</code> service option.</p> <p>As you can see, it as been told to copy settings from <code>Vanilla Minecraft</code>. This means that any of the fields that are
left blank will inherit from the assigned parent. We then define a specific <code>userInteraction</code> line that is different in
Sponge compared to Vanilla, but tell it that everything else should remain the same.</p> <p><em>Please note that <code>Copy Settings From</code> does not support nested copies, you can only copy from a single parent,
and that parent <strong>must not be copying from another option.</strong></em></p> <h2 id="egg-variables"><a href="#egg-variables" class="header-anchor">#</a> Egg Variables</h2> <p>One of the great parts of the Egg Variables is the ability to define specific variables that users and/or admins can
control to tweak different settings without letting users modify the startup command. To create new variables, or edit
existing ones, visit the new service option you created, and click the <code>Variables</code> tab at the top of the page. Lets take
a look at an example variable that we can create.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Variables.3962b264.png" alt=""></p> <div><p>The name and description are rather self-explanitory, so I'll skip down to the <code>Environment Variable</code> box. This should
be an Alpha-Numeric name with underscores, and should be uppercase. This will be the name of the environment variable
which can be accessed in the startup command as <code>{{WOOZLE_WOO}}</code>, within file modifications as <code>{{env.WOOZLE_WOO}}</code>, or
just <code>${WOOZLE_WOO}</code> in any shell scripts (it is passed through in the environment). We also define a default value for
this environment variable in this example, but it is not required to do so.</p></div><p>The next section is <code>Permissions</code>, which is a dropdown with two options: <code>Users Can View</code> and <code>Users Can Edit</code>.</p> <ul><li><code>Users Can View</code> — allows a user to view the field on the front-end, as well as the assigned value of that variable.
They will be able to see it replaced in their startup command.</li> <li><code>Users Can Edit</code> — allows a user to edit the value of the variable, for example the name of their <code>server.jar</code> file
if running Minecraft.</li></ul> <p>You should use caution here, even if you assign neither of the permissions it does not mean that the value will be
hidden. Crafty users will still be able to get the environment on their server. In most cases this is simply hiding
it from the user, and then used within the Dockerfile to perform actions, thus it is not important for the user to see.</p> <p>Finally, you will need to define some input rules to validate the value against. In this example, we use
<code>required|string|between:1,10</code>, which means the field is <code>required</code>, must be a <code>string</code>, and must be between <code>1</code> and
<code>10</code> characters in length. You can find <a href="https://laravel.com/docs/5.6/validation#available-validation-rules" target="_blank" rel="noopener noreferrer">all of the available validation rules<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
on the Laravel website. You can also use ReGEX based validation by using the <code>regex:</code> rule flag. For example,
<a href="https://regex101.com/r/k4oEOn/1" target="_blank" rel="noopener noreferrer"><code>required|regex:/^([\w\d._-]+)(\.jar)$/</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will require the field, and will match the
regex as any letters or numbers (<code>\w\d</code>) including underscore (<code>_</code>), periods (<code>.</code>), and dashes (<code>-</code>) ending in <code>.jar</code>.</p> <p>They will then be visible when managing the startup for a server in both the Admin CP and on the Front-End.</p> <p><img src="/assets/img/Pterodactyl_Create_New_Egg_Startup.b6e22637.png" alt=""></p> <h2 id="list-of-default-variables"><a href="#list-of-default-variables" class="header-anchor">#</a> List of default variables</h2> <p>The default variables are always accessible to all eggs and don't have to be created separately. They can be used in the egg startup, install script, or the configuration file parser.</p> <table><thead><tr><th>Variable</th> <th>Description</th> <th>Example</th></tr></thead> <tbody><tr><td>TZ</td> <td>Time Zone</td> <td><code>Etc/UTC</code></td></tr> <tr><td>STARTUP</td> <td>Startup command of the egg</td> <td><code>java -Xms128M -XmxM -jar </code></td></tr> <tr><td>SERVER_MEMORY</td> <td>Memory available for the server in MB</td> <td><code>512</code></td></tr> <tr><td>SERVER_IP</td> <td>Default ip of the server</td> <td><code>127.0.0.1</code></td></tr> <tr><td>SERVER_PORT</td> <td>Primary Server Port</td> <td><code>27015</code></td></tr> <tr><td>P_SERVER_LOCATION</td> <td>Location of the server</td> <td><code>Example City</code></td></tr> <tr><td>P_SERVER_UUID</td> <td>UUID of the server</td> <td><code>539fdca8-4a08-4551-a8d2-8ee5475b50d9</code></td></tr> <tr><td>P_SERVER_ALLOCATION_LIMIT</td> <td>Limit of allocations allowed for the server</td> <td><code>0</code></td></tr></tbody></table></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl-china/documentation/edit/master/community/config/eggs/creating_a_custom_egg.md" target="_blank" rel="noopener noreferrer">帮助我们改进此页面。</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></div> <div class="page-nav"><p class="inner"></p> <div class="prev"><span>
        ←
        <a href="/community/installation-guides/wings/debian11.html">Debian 11</a></span></div> <div class="next"><span><a href="/community/config/eggs/creating_a_custom_image.html">Creating a Custom Docker Image</a>→
      </span></div></div> </div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e404e787.js" defer></script><script src="/assets/js/4.edf157ab.js" defer></script><script src="/assets/js/1.c40e2759.js" defer></script><script src="/assets/js/13.398e32c9.js" defer></script>
  </body>
</html>
