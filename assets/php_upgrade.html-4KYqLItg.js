import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as l,c as d,d as c,w as a,b as p,a as e,e as t}from"./app-CAsqaKYP.js";const u={},m=p(`<h1 id="升级-php" tabindex="-1"><a class="header-anchor" href="#升级-php"><span>升级 PHP</span></a></h1><p>This documentation includes instructions for upgrading your system to the latest version of PHP. Please reference the table below to check what version you need for your version of Pterodactyl.</p><table><thead><tr><th>面板版本</th><th>PHP 版本</th></tr></thead><tbody><tr><td>1.0.0 - 1.2.0</td><td>7.3, 7.4</td></tr><tr><td>1.3.0+</td><td>7.4, 8.0</td></tr><tr><td>1.8.0+</td><td>7.4, 8.0, 8.1</td></tr><tr><td>1.11.0+</td><td>8.0, 8.1</td></tr></tbody></table><h2 id="安装-php" tabindex="-1"><a class="header-anchor" href="#安装-php"><span>安装 PHP</span></a></h2><p>In order to install PHP 8.1, you will need to run the following command. Please keep in mind different operating systems may have slightly different requirements for how this command is formatted.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># Add additional repository for PHP</span>
add-apt-repository <span class="token parameter variable">-y</span> ppa:ondrej/php
<span class="token function">apt</span> <span class="token parameter variable">-y</span> update
<span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> php8.1 php8.1-<span class="token punctuation">{</span>cli,gd,mysql,pdo,mbstring,tokenizer,bcmath,xml,fpm,curl,zip<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="update-composer" tabindex="-1"><a class="header-anchor" href="#update-composer"><span>Update Composer</span></a></h2><p>As of <code>Panel@1.3.0</code> we require <code>composer</code> v2. To update composer you will need to run the following command which will perform the composer self-update process and move you over to version 2.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> self-update <span class="token parameter variable">--2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="webserver-configuration" tabindex="-1"><a class="header-anchor" href="#webserver-configuration"><span>Webserver Configuration</span></a></h2>`,10),h=e("p",null,[t("After upgrading to PHP 8.1, you will most likely need to update your NGINX configuration. Your configuration file is most likely called "),e("code",null,"pterodactyl.conf"),t(" and located in the "),e("code",null,"/etc/nginx/sites-available/"),t(" directory, or if on CentOS, "),e("code",null,"/etc/nginx/conf.d/"),t(".")],-1),g=e("p",null,"Make sure to update the path in the command below to reflect the actual location of your configuration file.",-1),v=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sed"),t(),e("span",{class:"token parameter variable"},"-i"),t(),e("span",{class:"token parameter variable"},"-e"),t(),e("span",{class:"token string"},"'s/php[7|8].[0-9]-fpm.sock/php8.1-fpm.sock/'"),t(` /etc/nginx/sites-available/pterodactyl.conf
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),b=e("p",null,"Once you have edited the file run the command below to reload nginx and apply your changes.",-1),f=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,`systemctl reload nginx
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),y=e("p",null,"Run the commands below to disable all previous PHP versions and enable PHP 8.1 when serving requests.",-1),_=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token comment"},"# Hint: a2dismod = a2_disable_module 🤯"),t(`
a2dismod php*

`),e("span",{class:"token comment"},"# Hint: a2enmod = a2_enable_module 🤯"),t(`
a2enmod php8.1

`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),P=e("h3",{id:"return-to-the-1-x-x-upgrade-guide",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#return-to-the-1-x-x-upgrade-guide"},[e("span",null,[e("a",{href:"../panel/1.0/updating#fetch-updated-files"},"Return to the 1.X.X Upgrade Guide")])])],-1);function k(x,w){const o=r("Tabs");return l(),d("div",null,[m,c(o,{id:"69",data:[{id:"NGINX"},{id:"Apache"}]},{title0:a(({value:n,isActive:s})=>[t("NGINX")]),title1:a(({value:n,isActive:s})=>[t("Apache")]),tab0:a(({value:n,isActive:s})=>[h,g,v,b,f]),tab1:a(({value:n,isActive:s})=>[y,_]),_:1}),P])}const T=i(u,[["render",k],["__file","php_upgrade.html.vue"]]),A=JSON.parse('{"path":"/guides/php_upgrade.html","title":"升级 PHP","lang":"zh-CN","frontmatter":{"description":"升级 PHP This documentation includes instructions for upgrading your system to the latest version of PHP. Please reference the table below to check what version you need for your ...","head":[["meta",{"property":"og:url","content":"https://pterodactyl.top/guides/php_upgrade.html"}],["meta",{"property":"og:site_name","content":"Pterodactyl-China"}],["meta",{"property":"og:title","content":"升级 PHP"}],["meta",{"property":"og:description","content":"升级 PHP This documentation includes instructions for upgrading your system to the latest version of PHP. Please reference the table below to check what version you need for your ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-13T13:28:57.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-13T13:28:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"升级 PHP\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-13T13:28:57.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"安装 PHP","slug":"安装-php","link":"#安装-php","children":[]},{"level":2,"title":"Update Composer","slug":"update-composer","link":"#update-composer","children":[]},{"level":2,"title":"Webserver Configuration","slug":"webserver-configuration","link":"#webserver-configuration","children":[{"level":3,"title":"Return to the 1.X.X Upgrade Guide","slug":"return-to-the-1-x-x-upgrade-guide","link":"#return-to-the-1-x-x-upgrade-guide","children":[]}]}],"git":{"createdTime":1611207575000,"updatedTime":1713014937000,"contributors":[{"name":"Matthew Penner","email":"me@matthewp.io","commits":3},{"name":"Alex","email":"admin@softwarenoob.com","commits":2},{"name":"Dane Everitt","email":"dane@daneeveritt.com","commits":2},{"name":"飒爽师叔","email":"43847794+vlssu@users.noreply.github.com","commits":2},{"name":"Boy132","email":"Boy132@users.noreply.github.com","commits":1},{"name":"DaneEveritt","email":"dane@daneeveritt.com","commits":1},{"name":"Proxymiity ☆","email":"commits@proxymiity.fr","commits":1}]},"readingTime":{"minutes":0.98,"words":295},"filePathRelative":"guides/php_upgrade.md","localizedDate":"2021年1月21日","autoDesc":true}');export{T as comp,A as data};
