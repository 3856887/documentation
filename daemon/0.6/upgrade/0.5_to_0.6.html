<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrading 0.5.X to 0.6.X | Pterodactyl-China</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KWVNS6PXK2"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KWVNS6PXK2');
        </script>
    <meta name="description" content="翼龙是一个使用 PHP、React 和 Go 构建的开源游戏服务器管理面板。翼龙在设计时考虑了安全性，在隔离的 Docker 镜像中运行所有游戏服务器，同时向最终用户展示了美观直观的 UI。">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#0e4688">
    
    <link rel="preload" href="/assets/css/0.styles.b3d0dfa6.css" as="style"><link rel="preload" href="/assets/js/app.6cdcab30.js" as="script"><link rel="preload" href="/assets/js/4.b7a00d48.js" as="script"><link rel="preload" href="/assets/js/1.db0c5d2f.js" as="script"><link rel="preload" href="/assets/js/55.802f487f.js" as="script"><link rel="prefetch" href="/assets/js/10.cdd4a61d.js"><link rel="prefetch" href="/assets/js/11.e351399b.js"><link rel="prefetch" href="/assets/js/12.2ac392ed.js"><link rel="prefetch" href="/assets/js/13.4301b672.js"><link rel="prefetch" href="/assets/js/14.89240601.js"><link rel="prefetch" href="/assets/js/15.807fe106.js"><link rel="prefetch" href="/assets/js/16.0f854349.js"><link rel="prefetch" href="/assets/js/17.c4a3a47e.js"><link rel="prefetch" href="/assets/js/18.f603560b.js"><link rel="prefetch" href="/assets/js/19.6745f1bd.js"><link rel="prefetch" href="/assets/js/2.1c4292ed.js"><link rel="prefetch" href="/assets/js/20.844b5738.js"><link rel="prefetch" href="/assets/js/21.e02b1ab8.js"><link rel="prefetch" href="/assets/js/22.8f51e29a.js"><link rel="prefetch" href="/assets/js/23.5997ebe5.js"><link rel="prefetch" href="/assets/js/24.75ba2306.js"><link rel="prefetch" href="/assets/js/25.046fe291.js"><link rel="prefetch" href="/assets/js/26.1531f5e1.js"><link rel="prefetch" href="/assets/js/27.691f8514.js"><link rel="prefetch" href="/assets/js/28.82f3dcaf.js"><link rel="prefetch" href="/assets/js/29.5957e555.js"><link rel="prefetch" href="/assets/js/30.f9eb84a2.js"><link rel="prefetch" href="/assets/js/31.fd782d26.js"><link rel="prefetch" href="/assets/js/32.533170d5.js"><link rel="prefetch" href="/assets/js/33.151f22b8.js"><link rel="prefetch" href="/assets/js/34.f477810e.js"><link rel="prefetch" href="/assets/js/35.600f8d00.js"><link rel="prefetch" href="/assets/js/36.4577cbef.js"><link rel="prefetch" href="/assets/js/37.f5cb60cc.js"><link rel="prefetch" href="/assets/js/38.9413e6ae.js"><link rel="prefetch" href="/assets/js/39.7f9071fc.js"><link rel="prefetch" href="/assets/js/40.f8f20ed6.js"><link rel="prefetch" href="/assets/js/41.07e13253.js"><link rel="prefetch" href="/assets/js/42.b8d6e0ba.js"><link rel="prefetch" href="/assets/js/43.1be2589b.js"><link rel="prefetch" href="/assets/js/44.d995332e.js"><link rel="prefetch" href="/assets/js/45.8f0eae8e.js"><link rel="prefetch" href="/assets/js/46.b2a63dad.js"><link rel="prefetch" href="/assets/js/47.4e7a8ee0.js"><link rel="prefetch" href="/assets/js/48.efed2bc0.js"><link rel="prefetch" href="/assets/js/49.12cb9c80.js"><link rel="prefetch" href="/assets/js/5.808a266f.js"><link rel="prefetch" href="/assets/js/50.49bac993.js"><link rel="prefetch" href="/assets/js/51.8c4beb61.js"><link rel="prefetch" href="/assets/js/52.d920d7ab.js"><link rel="prefetch" href="/assets/js/53.41f50e15.js"><link rel="prefetch" href="/assets/js/54.bd4d9623.js"><link rel="prefetch" href="/assets/js/56.39e457fc.js"><link rel="prefetch" href="/assets/js/57.f4d28049.js"><link rel="prefetch" href="/assets/js/58.4acf46e4.js"><link rel="prefetch" href="/assets/js/59.e9302632.js"><link rel="prefetch" href="/assets/js/6.4297e35e.js"><link rel="prefetch" href="/assets/js/60.0478b09d.js"><link rel="prefetch" href="/assets/js/61.097cdced.js"><link rel="prefetch" href="/assets/js/62.8fb5312f.js"><link rel="prefetch" href="/assets/js/63.88ffdf51.js"><link rel="prefetch" href="/assets/js/64.e1c3f5fc.js"><link rel="prefetch" href="/assets/js/65.b57ed724.js"><link rel="prefetch" href="/assets/js/66.7a403cb9.js"><link rel="prefetch" href="/assets/js/67.0da40cf9.js"><link rel="prefetch" href="/assets/js/68.406bedee.js"><link rel="prefetch" href="/assets/js/69.28b40ecb.js"><link rel="prefetch" href="/assets/js/7.396b95f8.js"><link rel="prefetch" href="/assets/js/70.d46389c3.js"><link rel="prefetch" href="/assets/js/71.a103bef0.js"><link rel="prefetch" href="/assets/js/72.ba226a43.js"><link rel="prefetch" href="/assets/js/73.d35c9e1e.js"><link rel="prefetch" href="/assets/js/74.333b7407.js"><link rel="prefetch" href="/assets/js/75.63e634ea.js"><link rel="prefetch" href="/assets/js/76.341cfca9.js"><link rel="prefetch" href="/assets/js/77.0ab84a64.js"><link rel="prefetch" href="/assets/js/78.a812a626.js"><link rel="prefetch" href="/assets/js/79.c4f43a1d.js"><link rel="prefetch" href="/assets/js/8.7d528902.js"><link rel="prefetch" href="/assets/js/9.49432b78.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3d0dfa6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="fixed h-12 w-full z-50 top-0"><div class="h-12 w-full bg-black flex items-center justify-center px-4"><p class="text-grey-lightest font-semibold">
        欢迎支持 翼龙中国 CN 
        <a href="https://github.com/pterodactyl-china/documentation" target="_blank" rel="noindex nofollow noopener" class="text-blue-lighter">现在就支持</a></p></div></div> <div class="theme-container mt-12"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/logos/pterry.svg" class="logo"> <span class="site-name hidden md:inline can-hide">Pterodactyl-China</span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="搜索" placeholder="搜索" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">文档
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">社区指南
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    获取帮助
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>项目信息</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/project/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/project/about.html" class="sidebar-link">关于</a></li><li><a href="/project/terms.html" class="sidebar-link">Terminology</a></li><li><a href="/project/community.html" class="sidebar-link">Community Standards</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>面板 (前端)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.10
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.10
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/panel/1.0/getting_started.html" class="sidebar-link">开始入门</a></li><li><a href="/panel/1.0/btpanel_getstarted.html" class="sidebar-link">使用宝塔（BT-Panel）面板搭建</a></li><li><a href="/panel/1.0/webserver_configuration.html" class="sidebar-link">网络服务器配置</a></li><li><a href="/panel/1.0/additional_configuration.html" class="sidebar-link">其他配置</a></li><li><a href="/panel/1.0/updating.html" class="sidebar-link">更新面板</a></li><li><a href="/panel/1.0/troubleshooting.html" class="sidebar-link">疑难解答</a></li><li><a href="/panel/1.0/legacy_upgrade.html" class="sidebar-link">旧版升级</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Wings (后端)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.7
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.7
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/wings/1.0/installing.html" class="sidebar-link">安装 Wings</a></li><li><a href="/wings/1.0/upgrading.html" class="sidebar-link">升级 Wings</a></li><li><a href="/wings/1.0/migrating.html" class="sidebar-link">迁移至 Wings</a></li><li><a href="/wings/1.0/configuration.html" class="sidebar-link">Additional Configuration</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>教程</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/mysql_setup.html" class="sidebar-link">Setting up MySQL</a></li><li><a href="/tutorials/creating_ssl_certificates.html" class="sidebar-link">Creating SSL Certificates</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>指南</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/guides/mounts.html" class="sidebar-link">Using Mounts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>开发与运营</span> <span class="arrow right"></span> <!----></p> <!----></div></li></ul> </div> <div class="page"> <div class="content content__default"><h1 id="upgrading-0-5-x-to-0-6-x"><a href="#upgrading-0-5-x-to-0-6-x" class="header-anchor">#</a> Upgrading 0.5.X to 0.6.X</h1> <div class="custom-block danger"><p class="custom-block-title">This Software is Abandoned</p> <p>This documentation is for <strong>abandoned software</strong> which does not recieve any security updates or support
from the community. This documentation has been left accessible for historial reasons.</p> <p>You should be installing and using <a href="/wings/1.0/installing.html">Wings</a> in production environments with
<a href="/panel/1.0/getting_started.html">Pterodactyl Panel 1.0</a>.</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#breaking-changes">Breaking Changes</a></li><li><a href="#download-files">Download Files</a><ul><li><a href="#start-the-daemon">Start the Daemon</a></li></ul></li><li><a href="#rebuild-containers">Rebuild Containers</a></li></ul></div><p></p> <div class="custom-block warning"><p class="custom-block-title">Server Restart Required</p> <p>Your servers will need to be restarted after upgrading the daemon in order to see the expected log output in the Panel.</p></div> <h2 id="breaking-changes"><a href="#breaking-changes" class="header-anchor">#</a> Breaking Changes</h2> <p>This release introduces a few breaking changes to how the Daemon operates, but maintains compatibility with <code>v0.7.X</code> of
the Panel, so you don't need to worry about updating the Panel.</p> <p>Of notable change in this release is that we've switched from using custom logging functionality to using Docker logging
functionality. This allows us to better output events that happen before we can attach to the container, centralizes logic,
and allows Docker to manage the logs (which it does very well). Now, when your server refuses to boot, instead of seeing
an unhelpful &quot;Server has crashed&quot; message with nothing before it, you'll see <em>everything</em> that happened in the container
leading up to that point, assuming things were output.</p> <h2 id="download-files"><a href="#download-files" class="header-anchor">#</a> Download Files</h2> <p>To upgrade from v0.5.X first switch the directory where you installed your Daemon. If you followed the installation
guide your Daemon is most likely located in <code>/srv/daemon</code>. Then, download and unpack the archive using the
command below.</p> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>Stop your Daemon process before continuing in order to avoid any issues and ensure everything updates as expected.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop wings
</code></pre></div></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -L https://github.com/pterodactyl/daemon/releases/download/v0.6.13/daemon.tar.gz <span class="token operator">|</span> <span class="token function">tar</span> --strip-components<span class="token operator">=</span><span class="token number">1</span> -xzv
</code></pre></div><p>Then, update the core dependencies for the Daemon with the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> update --only<span class="token operator">=</span>production
</code></pre></div><h3 id="start-the-daemon"><a href="#start-the-daemon" class="header-anchor">#</a> Start the Daemon</h3> <p>Finally, start your daemon up, most likely with the command below.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start wings
</code></pre></div><h2 id="rebuild-containers"><a href="#rebuild-containers" class="header-anchor">#</a> Rebuild Containers</h2> <p>Because of some changes we made behind the scenes when it comes to displaying server output you'll need to rebuild and
restart all of your servers. The rebuild step is required, the restart step is optional, but highly recommended otherwise
you will not be able to see any console output.</p> <p>Run the following commands <em>from the Panel server</em> in order to perform a mass rebuild and restart. Replace <code>###</code> with the
ID of the node you just upgraded, or remove the <code>--node</code> flag entirely to rebuild on all nodes.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan p:server:rebuild --node<span class="token operator">=</span><span class="token comment">###</span>
</code></pre></div><p>Then, restart all of the servers using the following command, or by manually restarting them one at a time in the Panel.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan p:server:bulk-power restart --nodes<span class="token operator">=</span><span class="token comment">###</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl-china/documentation/edit/master/daemon/0.6/upgrade/0.5_to_0.6.md" target="_blank" rel="noopener noreferrer">帮助我们改进此页面。</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></div> <!----> </div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6cdcab30.js" defer></script><script src="/assets/js/4.b7a00d48.js" defer></script><script src="/assets/js/1.db0c5d2f.js" defer></script><script src="/assets/js/55.802f487f.js" defer></script>
  </body>
</html>
